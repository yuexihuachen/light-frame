import{f as w,r as E,c as U,n as V,a as y,u as f,b as h,d as o,j as e,O as P,e as S,g,m as I,h as R,i as k,P as L,R as A}from"./vendor.js";const _=w({baseUrl:"/",prepareHeaders:(t,{getState:r})=>{const i=r();console.log(i);const l=V();return t.set("X-Request-ID",l),t}}),C=E(_,{maxRetries:2}),d=U({reducerPath:"splitApi",baseQuery:C,tagTypes:["Category","PostList","Post","Categories"],endpoints:()=>({})}),q=t=>y({reducer:{[d.reducerPath]:d.reducer},middleware:r=>r().concat(d.middleware),...t}),J=q(),O="/logo.svg";function Q(){const t=f(),i=h().id||"JavaScript",l=document.getElementById("categories"),m=JSON.parse(l.value);o.useLayoutEffect(()=>{sessionStorage.setItem("category",JSON.stringify(m))},[]);const n=a=>{sessionStorage.setItem("category",JSON.stringify(a)),t(`/${a.name}`)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"z-[101] lg:border-b bg-white sticky top-0",children:e.jsxDEV("header",{className:"sticky top-0 flex m-auto bg-white max-w-screen-2xl lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center w-[19rem] py-4",children:[e.jsxDEV("img",{src:O,alt:"Logo",className:"w-7 h-7 text-gradient-to-r from-purple-500 to-pink-500",width:28,height:28},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:26,columnNumber:13},this),e.jsxDEV("a",{href:"/",className:"pl-2 text-xl font-bold text-slate-900",children:"星辰大海"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:33,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:25,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV("nav",{className:"h-full text-base font-medium leading-6 text-slate-700",children:e.jsxDEV("ul",{className:"flex items-center h-full space-x-8",children:m.map(a=>e.jsxDEV("li",{onClick:()=>n(a),className:`inline-flex items-center h-full border-b-2 cursor-pointer hover:text-purple-700 ${i===a.name?"border-purple-700 text-purple-700":"hover:border-purple-700 border-b-white"}`,children:a.alias},a._id,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:43,columnNumber:23},this))},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:39,columnNumber:15},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:38,columnNumber:13},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:23,columnNumber:7},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:22,columnNumber:5},this)}function $(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Q,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:8,columnNumber:5},this),e.jsxDEV("div",{className:"overflow-hidden",children:e.jsxDEV("div",{className:"px-4 m-auto max-w-screen-2xl md:px-8",children:e.jsxDEV(P,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:10,columnNumber:5},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:9,columnNumber:5},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:7,columnNumber:5},this)}const B=d.injectEndpoints({endpoints:t=>({getPostInfo:t.query({query:()=>"post/find"}),postInfo:t.mutation({query:r=>({url:"post/find",method:"POST",body:r}),invalidatesTags:["PostList"]})})}),{useGetPostInfoQuery:H,usePostInfoMutation:N}=B,M="/search.svg";function T(){const t=h(),r=f(),i=S(),[l]=g(),m=t.id||"JavaScript",[n,a]=o.useState(""),[p,x]=o.useState([]),[b]=N();o.useEffect(()=>{(async()=>{let c={_id:0};sessionStorage.getItem("category")&&(c=JSON.parse(sessionStorage.getItem("category")||"")[0]);const u=await b({query:{categoryId:c==null?void 0:c._id}});x(u==null?void 0:u.data)})()},[m]);const D=s=>{a(s)},j=s=>s.length?s.filter(u=>u.title.includes(n)):[],v=s=>{const c=i.pathname.length>1?i.pathname:"JavaScript";r(`${c}?id=${s._id}`)};return e.jsxDEV("nav",{id:"nav",className:"lg:text-sm lg:leading-6",children:[e.jsxDEV("div",{className:"sticky top-0 -ml-0.5",children:[e.jsxDEV("div",{className:"h-6 bg-white"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:56,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsxDEV("img",{src:M,alt:"search Logo",width:16,height:16},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:59,columnNumber:13},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:58,columnNumber:11},this),e.jsxDEV("input",{type:"text",value:n,onChange:s=>D(s.target.value),className:"block w-full rounded-md border-0 py-1.5 pl-9 pr-20 shadow-sm ring-1 ring-inset ring-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-700"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:61,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-b from-white"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:55,columnNumber:7},this),e.jsxDEV("ul",{children:j(p).map(s=>e.jsxDEV("li",{className:"mt-2",children:e.jsxDEV("div",{onClick:()=>v(s),className:`truncate text-base px-6 py-2 rounded text-slate-700 font-medium ${l.get("id")===s._id?"bg-purple-100":"hover:bg-purple-50"}`,children:s.title},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:74,columnNumber:15},this)},s._id,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:73,columnNumber:13},this))},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:54,columnNumber:5},this)}function W(){const[t]=g(),r=t.get("id"),i=o.useRef(null),[l]=N();return o.useEffect(()=>{async function m(){const n=await l({query:{_id:r},options:{_id:1,title:1,categoryId:1,published:1,content:1}});i.current&&(n!=null&&n.data.length)&&(i.current.innerHTML=I.parse(decodeURIComponent((n==null?void 0:n.data[0].content)||"")))}m()},[r]),e.jsxDEV("section",{children:e.jsxDEV("div",{className:`
      prose
      prose-slate
      prose-h2:mt-0
      prose-h3:mt-0
      prose-h4:mt-0
      max-w-full
      prose-code:rounded-md
      prose-code:before:content-none 
      prose-code:after:content-none
      prose-p:before:content-none 
      prose-p:after:content-none
      prose-hr:my-4
      `,ref:i},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/content/content.tsx",lineNumber:42,columnNumber:7},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/content/content.tsx",lineNumber:41,columnNumber:5},this)}const z=R([{path:"/",element:e.jsxDEV($,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:14,columnNumber:14},void 0),errorElement:e.jsxDEV("div",{children:"error"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:15,columnNumber:19},void 0),children:[{path:"/:id?",element:e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:block fixed w-[20.2666rem] inset-0 z-20  top-[3.8125rem] left-[max(0px,calc(50%-48rem))] right-auto pb-10 pl-8 pr-6 overflow-y-auto",children:e.jsxDEV(T,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:22,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:21,columnNumber:13},void 0),e.jsxDEV("div",{className:"lg:pl-[20.8rem]",children:e.jsxDEV("main",{className:"relative z-20 max-w-3xl pt-10 xl:max-w-none  h-[calc(100vh-61px)] overflow-y-auto",children:e.jsxDEV(W,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:26,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:25,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:24,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:20,columnNumber:11},void 0)}]}]);k(document.getElementById("root")).render(e.jsxDEV(o.StrictMode,{children:e.jsxDEV(L,{store:J,children:e.jsxDEV(A,{router:z},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:38,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:37,columnNumber:3},void 0));
