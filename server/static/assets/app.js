import{f as g,r as N,c as x,n as p,a as b,u as j,b as D,d as o,j as e,O as v,e as w,g as E,P as U,R as y}from"./vendor.js";const V=g({baseUrl:"/",prepareHeaders:(s,{getState:n})=>{const a=n();console.log(a);const l=p();return s.set("X-Request-ID",l),s}}),S=N(V,{maxRetries:2}),m=x({reducerPath:"splitApi",baseQuery:S,tagTypes:["Category","PostList","Post"],endpoints:()=>({})}),P=s=>b({reducer:{[m.reducerPath]:m.reducer},middleware:n=>n().concat(m.middleware),...s}),C=P(),I=m.injectEndpoints({endpoints:s=>({getCategoryInfo:s.query({query:()=>"category/find",providesTags:["Category"]})})}),{useGetCategoryInfoQuery:A}=I,k="/logo.svg",R=s=>JSON.parse(JSON.stringify(s));function q(){const s=j(),a=D().id||"JavaScript",{data:l,isLoading:t}=A();let c=[];t||(c=R(l.data).sort((r,d)=>r.order-d.order)),o.useEffect(()=>{const r=sessionStorage.getItem("category");!t&&!r&&sessionStorage.setItem("category",JSON.stringify(l==null?void 0:l.data[0]))},[t]);const u=r=>{sessionStorage.setItem("category",JSON.stringify(r)),s(`/${r.name}`)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"z-[101] lg:border-b bg-white sticky top-0",children:e.jsxDEV("header",{className:"sticky top-0 flex m-auto bg-white max-w-screen-2xl lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center w-[19rem] py-4",children:[e.jsxDEV("img",{src:k,alt:"Logo",className:"w-7 h-7 text-gradient-to-r from-purple-500 to-pink-500",width:28,height:28},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:33,columnNumber:13},this),e.jsxDEV("a",{href:"/",className:"pl-2 text-xl font-bold text-slate-900",children:"星辰大海"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:32,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV("nav",{className:"h-full text-base font-medium leading-6 text-slate-700",children:e.jsxDEV("ul",{className:"flex items-center h-full space-x-8",children:!t&&c.map(r=>e.jsxDEV("li",{onClick:()=>u(r),className:`inline-flex items-center h-full border-b-2 cursor-pointer hover:text-purple-700 ${a===r.name?"border-purple-700 text-purple-700":"hover:border-purple-700 border-b-white"}`,children:r.alias},r._id,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:50,columnNumber:23},this))},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:46,columnNumber:15},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:45,columnNumber:13},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:44,columnNumber:11},this),t&&e.jsxDEV(e.Fragment,{children:[1,2,3,4,5,6,7,8,9].map(r=>e.jsxDEV("div",{className:"w-16 h-8 mx-3 my-auto text-center rounded bg-slate-50 text-slate-500"},r,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:71,columnNumber:19},this))},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:31,columnNumber:9},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:30,columnNumber:7},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/header/header.tsx",lineNumber:29,columnNumber:5},this)}function L(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:8,columnNumber:5},this),e.jsxDEV("div",{className:"overflow-hidden",children:e.jsxDEV("div",{className:"px-4 m-auto max-w-screen-2xl md:px-8",children:e.jsxDEV(v,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:11,columnNumber:7},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:10,columnNumber:5},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:9,columnNumber:5},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/App.tsx",lineNumber:7,columnNumber:5},this)}const O=m.injectEndpoints({endpoints:s=>({getPostInfo:s.query({query:()=>"post/find",providesTags:["Post"]})})}),{useGetPostInfoQuery:Q}=O,_="/search.svg";function J(){const[s,n]=o.useState(""),[a,l]=o.useState({}),{data:t,isLoading:c}=Q(),u=sessionStorage.getItem("category"),r=i=>{n(i)},d=i=>i.filter(h=>h.title.includes(s)),f=i=>{l(i)};return o.useEffect(()=>{!(a!=null&&a._id)&&!c&&l(t==null?void 0:t.data[0])},[c,u]),e.jsxDEV("nav",{id:"nav",className:"lg:text-sm lg:leading-6",children:[e.jsxDEV("div",{className:"sticky top-0 -ml-0.5",children:[e.jsxDEV("div",{className:"h-6 bg-white"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:36,columnNumber:9},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsxDEV("img",{src:_,alt:"search Logo",width:16,height:16},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:39,columnNumber:13},this)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:38,columnNumber:11},this),e.jsxDEV("input",{type:"text",value:s,onChange:i=>r(i.target.value),className:"block w-full rounded-md border-0 py-1.5 pl-9 pr-20 shadow-sm ring-1 ring-inset ring-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-700"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("div",{className:"bg-gradient-to-b from-white"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV("ul",{children:!c&&d(t==null?void 0:t.data).map(i=>e.jsxDEV("li",{className:"mt-2",children:e.jsxDEV("div",{onClick:()=>f(i),className:`truncate text-base px-6 py-2 rounded text-slate-700 font-medium ${a._id===i._id?"bg-purple-100":"hover:bg-purple-50"}`,children:i.title},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:54,columnNumber:15},this)},i._id,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:53,columnNumber:13},this))},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/features/aside/aside.tsx",lineNumber:34,columnNumber:5},this)}const F=w([{path:"/",element:e.jsxDEV(L,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:13,columnNumber:14},void 0),errorElement:e.jsxDEV("div",{children:"error"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:14,columnNumber:19},void 0),children:[{path:"/:id?",element:e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:block fixed w-[20.2666rem] inset-0 z-20  top-[3.8125rem] left-[max(0px,calc(50%-48rem))] right-auto pb-10 pl-8 pr-6 overflow-y-auto",children:e.jsxDEV(J,{},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:21,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:20,columnNumber:13},void 0),e.jsxDEV("div",{className:"lg:pl-[20.8rem]",children:e.jsxDEV("main",{className:"relative z-20 max-w-3xl pt-10 xl:max-w-none  h-[calc(100vh-61px)] overflow-y-auto",children:"hello content"},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:24,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:23,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:19,columnNumber:11},void 0)}]}]);E(document.getElementById("root")).render(e.jsxDEV(o.StrictMode,{children:e.jsxDEV(U,{store:C,children:e.jsxDEV(y,{router:F},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:38,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:37,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/wangl577/Documents/project/light-frame/client/src/index.tsx",lineNumber:36,columnNumber:3},void 0));
//# sourceMappingURL=app.js.map
